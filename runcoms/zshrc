#
# Executes commands at the start of an interactive session.
#
# Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#

# Source Prezto.
[[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]] && source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"

export KEYTIMEOUT=3
setopt clobber
export RANGER_LOAD_DEFAULT_RC=FALSE
export FZF_COMPLETION_TRIGGER=',,'

source $HOME/.zprezto/dotfiles/myrc.zsh
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
_fzf_compgen_path() { ag -g "" "$1" }
echo -e "bric3/nice-exit-code\nfcambus/ansiweather\ndjui/alias-tips\nmollifier/anyframe" > $HOME/.zprezto/.plugins.txt
which antibody > /dev/null || curl -s https://raw.githubusercontent.com/getantibody/installer/master/install | bash -s
which ag > /dev/null || sudo pacman -S community/the_silver_searcher
which fzf > /dev/null || sudo pacman -S community/fzf
which fasd > /dev/null || wget -O- https://aur.archlinux.org/cgit/aur.git/snapshot/fasd.tar.gz | tar -xf - ~/tmp
source <(antibody init) && antibody bundle < $HOME/.zprezto/.plugins.txt
zstyle ":anyframe:selector:" use fzf
[[ -d /home/ant/.vim/bundle/Vundle.vim ]] || git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim
RPROMPT='$(nice_exit_code)'
BKEYS
