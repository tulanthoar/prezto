[ -z ${ZDOTD+x} ] && source $HOME/.zprofile
[[ -f ${HOME}/.terminfo/${TERM[1]}/${TERM} ]] || infocmp ${TERM} | sed 's/kbs=^[hH]/kbs=\\177/' | tic -
local tinit=$(date +%S%N)
source <(printf 'source $ZPREZD/%s\n' 'alias-tips/alias-tips.plugin.zsh'\
 'zsh-completion-generator/zsh-completion-generator.plugin.zsh'\
 'zsh-autosuggestions/zsh-autosuggestions.plugin.zsh')
fpath=($ZRCD/funcs $HOME/zsh-completions/src $fpath)
source <(printf 'source %s\n' ${ZRCD}/myfunctions.zsh ${ZRCD}/myaliases.zsh)

setopt MULTIOS              # Write to multiple descriptors.
setopt EXTENDED_GLOB        # Use extended globbing syntax.  
setopt AUTO_CD              # Auto changes to a directory without typing cd.
setopt AUTO_NAME_DIRS       # Auto add variable-stored paths to ~ list.
setopt AUTO_PUSHD           # Push the old directory onto the stack on cd.
setopt PUSHD_IGNORE_DUPS    # Do not store duplicates in the stack.
setopt PUSHD_SILENT         # Do not print the directory stack after pushd or popd.
setopt PUSHD_TO_HOME        # Push to home directory when no argument is given.
setopt CDABLE_VARS          #add a ~ to bare directory commands 
setopt ALWAYS_TO_END        # Move cursor to the end of a completed word.
setopt AUTO_LIST            # list menu complete on first <Tab>
setopt AUTO_PARAM_KEYS      #automaically delete spaces before a } or ,
setopt AUTO_PARAM_SLASH     # If completed parameter is a directory, add a trailing slash.
setopt AUTO_REMOVE_SLASH    #remove trailing / if not needed
setopt LIST_AMBIGUOUS       # automatically inset ambiguous compeltions
setopt LIST_PACKED          # use variable length width completion columns
setopt LIST_TYPES           # include file types when autocompletin 
setopt CSH_NULL_GLOB        # remove unused glob patters without report errors
setopt GLOB_STAR_SHORT      # ** is shorthand for **/*
setopt MARK_DIRS            # add trailing / to filename (directory) generation
setopt NUMERIC_GLOB_SORT    # sort by numbers when prefixed
# setopt WARN_CREATE_GLOBAL   # no creating global vars in functiuons unless typeset -g used 
setopt HIST_IGNORE_ALL_DUPS # don't show duplicated lines in history
setopt HIST_NO_STORE        # don't include the history "fc -l" command
setopt HIST_REDUCE_BLANKS   # let zsh trim blanks automagically
setopt HIST_VERIFY          # first substitute history before allowing execution
setopt BANG_HIST            # Treat the '!' character specially during expansion.
setopt INC_APPEND_HISTORY   # Write to the history file immediately, not when the shell exits.
setopt SHARE_HISTORY        # Share history between all sessions.
setopt HIST_BEEP            # Beep when accessing non-existent history.  
setopt CORRECT              # correct command spelling
unsetopt FLOW_CONTROL       # Disable start/stop characters in shell editor.
setopt PATH_DIRS            # Perform path search even on command names with slashes.
setopt PRINT_EXIT_VALUE     # print exit values
setopt RC_QUOTES            # use `''` for single quotes in single quotes

autoload -Uz black red green yellow blue magenta cyan white
autoload -U colors && colors
autoload -Uz compinit&& compinit -i
export ZSH_HIGHLIGHT_HIGHLIGHTERS=('brackets' 'cursor' 'main' 'line')
printf 'source $ZPREZD/%s\n' 'zsh-syntax-highlighting/zsh-syntax-highlighting'
# export ZSH_HIGHLIGHT_STYLES[line]='fg=234,bg=244'
# export ZSH_HIGHLIGHT_STYLES[unknown-token]='standout,bold'
# export ZSH_HIGHLIGHT_STYLES[default]='standout'
# export ZSH_HIGHLIGHT_STYLES[path]='underline'
source ${ZPREZD}/init.zsh
snippets-add
bind_keys
local tf=$(date +%S%N)
echo $(( ${tf[1,5]} - ${tinit[1,5]} ))
