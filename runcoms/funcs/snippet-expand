function snippet-expand() {
  emulate -L zsh
  setopt localoptions extendedglob
  local MATCH
  LBUFFER=${LBUFFER%%(#m)[.\-+:|_a-zA-Z0-9]#}
  LBUFFER+=${snippets[$MATCH]:-$MATCH}
}
